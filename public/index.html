<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBSHARE Pro - Advanced Facebook Auto Share Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --secondary: #10b981;
            --accent: #6366f1;
            --background: #0f172a;
            --surface: #1e293b;
        }

        * {
            font-family: 'Outfit', sans-serif;
        }

        body {
            background-color: var(--background);
            background-image: 
                radial-gradient(at 47% 33%, hsl(224, 64%, 15%) 0, transparent 59%), 
                radial-gradient(at 82% 65%, hsl(218, 39%, 11%) 0, transparent 55%);
        }

        .glass-effect {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .gradient-border {
            position: relative;
            border-radius: 0.75rem;
            background: var(--surface);
        }

        .gradient-border::before {
            content: '';
            position: absolute;
            top: -1px;
            right: -1px;
            bottom: -1px;
            left: -1px;
            z-index: -1;
            border-radius: 0.85rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
        }

        .animate-glow {
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
            }
            to {
                box-shadow: 0 0 20px rgba(99, 102, 241, 0.8);
            }
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: var(--surface);
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .tooltip {
            position: relative;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            background: var(--surface);
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 10;
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.2);
        }

        .floating-action-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 50;
        }

        /* Dark mode scrollbar */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--surface);
        }
    </style>
</head>
<body class="min-h-screen text-white pb-20">
    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-effect">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-4">
                    <span class="flex items-center space-x-2">
                        <i data-lucide="share" class="w-6 h-6 text-blue-500"></i>
                        <span class="text-xl font-bold">FBSHARE Pro</span>
                    </div>
                    <div class="hidden md:flex items-center space-x-4">
                        <button class="px-3 py-2 rounded-lg hover:bg-blue-500/10 transition flex items-center space-x-2">
                            <i data-lucide="bar-chart-2" class="w-4 h-4"></i>
                            <span>Dashboard</span>
                        </button>
                        <button class="px-3 py-2 rounded-lg hover:bg-blue-500/10 transition flex items-center space-x-2">
                            <i data-lucide="settings" class="w-4 h-4"></i>
                            <span>Settings</span>
                        </button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="bg-surface px-3 py-1.5 rounded-full text-sm flex items-center space-x-2">
                        <i data-lucide="wifi" class="w-4 h-4 text-green-500"></i>
                        <span>Connected</span>
                    </div>
                    <button class="p-2 rounded-lg hover:bg-blue-500/10 transition">
                        <i data-lucide="user" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24">
        <!-- Status Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="gradient-border p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Total Shares</p>
                        <h3 class="text-2xl font-bold mt-1">24,521</h3>
                    </div>
                    <div class="w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center">
                        <i data-lucide="share" class="w-6 h-6 text-blue-500"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center space-x-2 text-sm">
                    <span class="text-green-500 flex items-center">
                        <i data-lucide="trending-up" class="w-4 h-4 mr-1"></i>
                        12.5%
                    </span>
                    <span class="text-gray-400">vs last week</span>
                </div>
            </div>

            <div class="gradient-border p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Success Rate</p>
                        <h3 class="text-2xl font-bold mt-1">98.3%</h3>
                    </div>
                    <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center">
                        <i data-lucide="check-circle" class="w-6 h-6 text-green-500"></i>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="w-full bg-surface rounded-full h-1.5">
                        <div class="bg-green-500 h-1.5 rounded-full" style="width: 98.3%"></div>
                    </div>
                </div>
            </div>

            <div class="gradient-border p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Active Users</p>
                        <h3 class="text-2xl font-bold mt-1">1,234</h3>
                    </div>
                    <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center">
                        <i data-lucide="users" class="w-6 h-6 text-purple-500"></i>
                    </div>
                </div>
                <div class="mt-4 grid grid-cols-7 gap-1">
                    <div class="h-1 bg-purple-500/60 rounded"></div>
                    <div class="h-1 bg-purple-500/80 rounded"></div>
                    <div class="h-1 bg-purple-500/40 rounded"></div>
                    <div class="h-1 bg-purple-500/90 rounded"></div>
                    <div class="h-1 bg-purple-500/50 rounded"></div>
                    <div class="h-1 bg-purple-500/70 rounded"></div>
                    <div class="h-1 bg-purple-500 rounded"></div>
                </div>
            </div>

            <div class="gradient-border p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">System Load</p>
                        <h3 class="text-2xl font-bold mt-1">42%</h3>
                    </div>
                    <div class="w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center">
                        <i data-lucide="cpu" class="w-6 h-6 text-orange-500"></i>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-400">CPU: 38%</span>
                        <span class="text-gray-400">RAM: 46%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Share Form -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Quick Actions -->
                <div class="flex items-center space-x-4 overflow-x-auto pb-2 custom-scrollbar">
                    <button class="px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg transition flex items-center space-x-2 whitespace-nowrap">
                        <i data-lucide="plus-circle" class="w-4 h-4"></i>
                        <span>New Share</span>
                    </button>
                    <button class="px-4 py-2 bg-surface hover:bg-surface/80 rounded-lg transition flex items-center space-x-2 whitespace-nowrap">
                        <i data-lucide="history" class="w-4 h-4"></i>
                        <span>History</span>
                    </button>
                    <button class="px-4 py-2 bg-surface hover:bg-surface/80 rounded-lg transition flex items-center space-x-2 whitespace-nowrap">
                        <i data-lucide="settings" class="w-4 h-4"></i>
                        <span>Settings</span>
                    </button>
                    <button class="px-4 py-2 bg-surface hover:bg-surface/80 rounded-lg transition flex items-center space-x-2 whitespace-nowrap">
                        <i data-lucide="help-circle" class="w-4 h-4"></i>
                        <span>Help</span>
                    </button>
                </div>

                <!-- Share Form -->
                <form id="shareForm" class="gradient-border p-6 space-y-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-semibold flex items-center space-x-2">
                            <i data-lucide="share" class="w-5 h-5 text-blue-500"></i>
                            <span>Create Share Task</span>
                        </h2>
                        <div class="text-sm text-gray-400">Step 1 of 3</div>
                    </div>

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2 flex items-center space-x-2">
                                <i data-lucide="cookie" class="w-4 h-4 text-blue-500"></i>
                                <span>Facebook Cookie</span>
                            </label>
                            <div class="relative">
                                <textarea 
                                    id="cookie" 
                                    class="w-full bg-surface rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition h-24 pr-10"
                                    placeholder="Paste your Facebook cookie here"
                                ></textarea>
                                <button type="button" class="absolute top-3 right-3 text-gray-400 hover:text-white transition tooltip" data-tooltip="Paste from clipboard">
                                    <i data-lucide="clipboard" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2 flex items-center space-x-2">
                                <i data-lucide="link" class="w-4 h-4 text-blue-500"></i>
                                <span>Post URL</span>
                            </label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-3 flex items-center pointer-events-none">
                                    <i data-lucide="facebook" class="w-5 h-5 text-gray-400"></i>
                                </div>
                                <input 
                                    type="url" 
                                    id="url" 
                                    class="w-full bg-surface rounded-lg pl-10 pr-3 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
                                    placeholder="https://facebook.com/post/..."
                                >
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium mb-2 flex items-center space-x-2">
                                    <i data-lucide="hash" class="w-4 h-4 text-blue-500"></i>
                                    <span>Share Amount</span>
                                </label>
                                <div class="relative">
                                    <input 
                                        type="number" 
                                        id="amount" 
                                        class="w-full bg-surface rounded-lg px-3 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
                                        placeholder="Enter amount (max 1000)"
                                        min="1"
                                        max="1000"
                                    >
                                    <div class="absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400">
                                        shares
                                    </div>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium mb-2 flex items-center space-x-2">
                                    <i data-lucide="clock" class="w-4 h-4 text-blue-500"></i>
                                    <span>Interval</span>
                                </label>
                                <div class="relative">
                                    <input 
                                        type="number" 
                                        id="interval" 
                                        class="w-full bg-surface rounded-lg px-3 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
                                        placeholder="Enter interval (1-60)"
                                        min="1"
                                        max="60"
                                    >
                                    <div class="absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400">
                                        seconds
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4 pt-4">
                        <button type="submit" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 rounded-lg transition flex items-center justify-center space-x-2">
                            <i data-lucide="play" class="w-5 h-5"></i>
                            <span>Start Sharing</span>
                        </button>
                        <button type="button" id="stopButton" class="px-6 py-3 bg-surface hover:bg-surface/80 rounded-lg transition flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            <i data-lucide="stop-circle" class="w-5 h-5"></i>
                            <span>Stop</span>
                        </button>
                    </div>
                </form>

                <!-- Progress Section -->
                <div id="progress" class="gradient-border p-6 space-y-6 hidden">
                    <div class="flex items-center justify-between">
                        <h3 class="font-medium flex items-center space-x-2">
                            <i data-lucide="activity" class="w-5 h-5 text-blue-500"></i>
                            <span>Share Progress</span>
                        </h3>
                        <span id="progressCount" class="text-sm font-medium px-3 py-1 bg-surface rounded-full">0/0</span>
                    </div>

                    <div class="space-y-4">
                        <div class="w-full bg-surface rounded-full h-2">
                            <div id="progressBar" class="bg-blue-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>

                        <div class="grid grid-cols-3 gap-4 text-sm">
                            <div class="bg-surface rounded-lg p-3">
                                <div class="text-gray-400 mb-1">Time Elapsed</div>
                                <div id="timeElapsed" class="font-medium">0s</div>
                            </div>
                            <div class="bg-surface rounded-lg p-3">
                                <div class="text-gray-400 mb-1">Share Rate</div>
                                <div id="shareRate" class="font-medium">0/s</div>
                            </div>
                            <div class="bg-surface rounded-lg p-3">
                                <div class="text-gray-400 mb-1">Success Rate</div>
                                <div id="successRate" class="font-medium">0%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="space-y-6">
                <!-- Statistics -->
                <div class="gradient-border p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-medium flex items-center space-x-2">
                            <i data-lucide="bar-chart-2" class="w-5 h-5 text-blue-500"></i>
                            <span>Statistics</span>
                        </h3>
                        <button id="refreshStats" class="p-2 hover:bg-surface rounded-lg transition">
                            <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                        </button>
                    </div>

                    <div class="space-y-4">
                        <div class="bg-surface rounded-lg p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-sm text-gray-400">Total Shares</div>
                                    <div id="totalShares" class="text-2xl font-bold mt-1">0</div>
                                </div>
                                <div class="w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center">
                                    <i data-lucide="share" class="w-5 h-5 text-blue-500"></i>
                                </div>
                            </div>
                            <div class="mt-4 h-1 bg-surface rounded-full overflow-hidden">
                                <div class="h-1 bg-blue-500 rounded-full" style="width: 75%"></div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-surface rounded-lg p-4">
                                <div class="text-sm text-gray-400">Success Rate</div>
                                <div id="currentSuccessRate" class="text-xl font-bold mt-1">0%</div>
                            </div>
                            <div class="bg-surface rounded-lg p-4">
                                <div class="text-sm text-gray-400">Active Sessions</div>
                                <div id="activeSessions" class="text-xl font-bold mt-1">0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="gradient-border p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-medium flex items-center space-x-2">
                            <i data-lucide="history" class="w-5 h-5 text-blue-500"></i>
                            <span>Recent Activity</span>
                        </h3>
                        <div class="text-sm text-gray-400">Today</div>
                    </div>

                    <div id="recentActivity" class="space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2">
                        <!-- Activity items will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action-button">
        <button class="p-4 bg-blue-500 hover:bg-blue-600 rounded-full shadow-lg transition animate-glow">
            <i data-lucide="plus" class="w-6 h-6"></i>
        </button>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        let shareInterval;
        let startTime;
        let totalShares = 0;

        // Initialize tooltips
        document.querySelectorAll('[data-tooltip]').forEach(element => {
            element.addEventListener('mouseenter', e => {
                const tooltip = document.createElement('div');
                tooltip.className = 'absolute bg-gray-800 text-white text-xs rounded px-2 py-1 -mt-8';
                tooltip.textContent = e.target.dataset.tooltip;
                tooltip.style.left = '50%';
                tooltip.style.transform = 'translateX(-50%)';
                e.target.appendChild(tooltip);
            });

            element.addEventListener('mouseleave', e => {
                const tooltip = e.target.querySelector('.absolute');
                if (tooltip) tooltip.remove();
            });
        });

        function updateStats() {
            document.getElementById('totalShares').textContent = totalShares;
            document.getElementById('currentSuccessRate').textContent = 
                totalShares > 0 ? Math.round((totalShares / (totalShares + 2)) * 100) + '%' : '0%';
            document.getElementById('activeSessions').textContent = 
                Math.floor(Math.random() * 5) + 1;
        }

        function addActivityItem(message, type = 'info') {
            const activityContainer = document.getElementById('recentActivity');
            const item = document.createElement('div');
            item.className = 'flex items-start space-x-3 bg-surface p-3 rounded-lg';
            
            const iconColors = {
                'info': 'text-blue-500',
                'success': 'text-green-500',
                'error': 'text-red-500',
                'warning': 'text-yellow-500'
            };

            item.innerHTML = `
                <div class="w-8 h-8 ${iconColors[type]} bg-${type === 'info' ? 'blue' : type}-500/20 rounded-lg flex items-center justify-center">
                    <i data-lucide="${type === 'info' ? 'info' : type === 'success' ? 'check' : type === 'error' ? 'x' : 'alert-triangle'}" class="w-4 h-4"></i>
                </div>
                <div class="flex-1">
                    <div class="text-sm">${message}</div>
                    <div class="text-xs text-gray-400 mt-1">${new Date().toLocaleTimeString()}</div>
                </div>
            `;

            activityContainer.insertBefore(item, activityContainer.firstChild);
            lucide.createIcons({
                parent: item
            });
        }

        document.getElementById('shareForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = {
                cookie: document.getElementById('cookie').value,
                url: document.getElementById('url').value,
                amount: parseInt(document.getElementById('amount').value),
                interval: parseInt(document.getElementById('interval').value)
            };

            // Validate inputs
            if (!formData.cookie || !formData.url || !formData.amount || !formData.interval) {
                Swal.fire({
                    icon: 'error',
                    title: 'Invalid Input',
                    text: 'Please fill in all fields',
                    background: '#1e293b',
                    color: '#fff',
                    confirmButtonColor: '#3b82f6'
                });
                return;
            }

            try {
                const response = await fetch('/api/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                if (!response.ok) {
                    throw new Error('Share request failed');
                }

                Swal.fire({
                    icon: 'success',
                    title: 'Share Process Started',
                    text: 'The sharing process has been initiated successfully',
                    background: '#1e293b',
                    color: '#fff',
                    confirmButtonColor: '#3b82f6'
                });

                document.getElementById('progress').classList.remove('hidden');
                document.getElementById('stopButton').disabled = false;
                startTime = Date.now();
                updateProgress();
                addActivityItem('Started new share session', 'success');
            } catch (error) {
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: error.message,
                    background: '#1e293b',
                    color: '#fff',
                    confirmButtonColor: '#3b82f6'
                });
                addActivityItem(error.message, 'error');
            }
        });

        document.getElementById('stopButton').addEventListener('click', () => {
            clearInterval(shareInterval);
            document.getElementById('stopButton').disabled = true;
            document.getElementById('progress').classList.add('hidden');
            addActivityItem('Share session stopped manually', 'warning');
            
            Swal.fire({
                icon: 'info',
                title: 'Sharing Stopped',
                text: 'The sharing process has been stopped',
                background: '#1e293b',
                color: '#fff',
                confirmButtonColor: '#3b82f6'
            });
        });

        document.getElementById('refreshStats').addEventListener('click', () => {
            updateStats();
            addActivityItem('Statistics refreshed', 'info');
        });

        // Simulated progress update
        async function updateProgress() {
            shareInterval = setInterval(async () => {
                const progress = Math.min((Date.now() - startTime) / 100, 100);
                document.getElementById('progressBar').style.width = `${progress}%`;
                
                // Update time elapsed
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById('timeElapsed').textContent = `${elapsed}s`;
                
                // Update share rate
                const shareRate = (progress / elapsed).toFixed(2);
                document.getElementById('shareRate').textContent = `${shareRate}/s`;
                
                totalShares++;
                updateStats();
                
                if (progress >= 100) {
                    clearInterval(shareInterval);
                    document.getElementById('stopButton').disabled = true;
                    addActivityItem('Share session completed successfully', 'success');
                    
                    Swal.fire({
                        icon: 'success',
                        title: 'Sharing Complete',
                        text: 'Successfully completed all shares',
                        background: '#1e293b',
                        color: '#fff',
                        confirmButtonColor: '#3b82f6'
                    });
                }
            }, 1000);
        }

        // Simulate active users count
        setInterval(() => {
            const activeUsers = Math.floor(Math.random() * 50) + 20;
            document.querySelector('#activeUsers').textContent = `${activeUsers}`;
        }, 5000);

        // Initial stats update
        updateStats();

        // Add some initial activity items
        addActivityItem('System initialized successfully', 'success');
        addActivityItem('Connected to Facebook API', 'info');
        addActivityItem('Ready to start sharing', 'info');
    </script>
</body>
</html>
